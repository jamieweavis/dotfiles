
#!/usr/bin/env sh

# necessary to load scripting-addition during startup on macOS Big Sur
# *yabai --load-sa* is configured to run through sudo without a password
sudo yabai --load-sa
yabai -m signal --add event=dock_did_restart action="sudo yabai --load-sa"

# Hipster padding
yabai -m config top_padding 20
yabai -m config right_padding 20
yabai -m config bottom_padding 20
yabai -m config left_padding 20
yabai -m config window_gap 20

# Extra padding for simple-bar
yabai -m config external_bar all:29:0

# Window borders
yabai -m config window_border on
yabai -m config window_border_width 6
yabai -m config active_window_border_color 0xfffff44f
yabai -m config normal_window_border_color 0xff282a36

# Border exceptions
yabai -m rule --add app='^Simulator$' border=off
yabai -m rule --add app='^Kap$' border=off
yabai -m rule --add app='^RimWorld by Ludeon Studios$' border=off

# Default floating window by app name
yabai -m rule --add app='^System Preferences$' manage=off
yabai -m rule --add app='^ColorSlurp$' manage=off
yabai -m rule --add app='^Pritunl$' manage=off
yabai -m rule --add app='^Activity Monitor$' manage=off
yabai -m rule --add app='^Raycast$' manage=off
yabai -m rule --add app='^VMware Fusion$' manage=off
yabai -m rule --add app='^iGlance$' manage=off

# Default floating window by window title
yabai -m rule --add title='Preferences$' manage=off
yabai -m rule --add title='Info$' manage=off
yabai -m rule --add title='Settings$' manage=off
yabai -m rule --add title='^Copy$' manage=off
yabai -m rule --add title='^Blender Render$' manage=off
yabai -m rule --add title='^Picture in Picture$' manage=off
yabai -m rule --add title='^RimWorld by Ludeon Studios$' manage=off
yabai -m rule --add title='^About This Mac$' manage=off

# Disable shadows (requires SIP disabled)
yabai -m config window_shadow off

# Mouse focus
# yabai -m config mouse_follows_focus on
# yabai -m config focus_follows_mouse autoraise

# Enable binary space partiion tiling
yabai -m config layout bsp
